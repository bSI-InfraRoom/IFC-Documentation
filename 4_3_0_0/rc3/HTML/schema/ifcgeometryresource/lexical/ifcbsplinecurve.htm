<!DOCTYPE HTML>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" type="text/css" href="../../../ifc-styles.css">

    <link rel="stylesheet" type="text/css" href="../../../details-shim.css">
    <script type="text/javascript" src="../../../details-shim.js"></script>
    <title>IfcBSplineCurve</title>

    <style type="text/css">
      body { counter-reset: index1 8 index2 9 index3 3 index4 8 index5 0; }
    </style>
  </head>

  <body>


<script type="text/javascript">
<!--
    parent.index.location.replace("../../toc-8.htm#8.9.3.9");
//-->
</script>

<h4 class="num">IfcBSplineCurve</h4>
<a href="../../views/general-usage/index.htm" ><img src="../../../img/view-general-usage.png" title="General Usage"/></a>
<details open="open"><summary>Natural language names</summary><table>
<table class="gridtable">
<tr><td><img src="../../../img/locale-de.png" /></td><td><b>Bézier-Spline-Kurve</b></td></tr>
<tr><td><img src="../../../img/locale-en.png" /></td><td><b>BSpline Curve</b></td></tr>
<tr><td><img src="../../../img/locale-fr.png" /></td><td><b>Courbe Bspline</b></td></tr>
</table>
</details>
<section>
<h5 class="num">Semantic definitions at the entity</h5>
<details open="open"><summary>Entity definition</summary><p>The <span class="self-ref">IfcBSplineCurve</span> is a spline curve parameterized by spline functions.</p>
<p>Figure 373 illustrates a B-spline curve.</p>
<blockquote class="note">
<p>NOTE  Figure quoted from ISO 10303-42.</p>
</blockquote>
<p><table><tr><td style="width: 600px"><img src="../../../figures/ifcbsplinecurve-fig1.gif" alt="&quot;control points&quot;" title="Figure 373 &mdash; B-spline curve"></td></tr><tr><td><p class="figure">Figure 373 &mdash; B-spline curve</p></td></tr></table></p>
<blockquote class="extDef">
<p>NOTE  Definition according to ISO/CD 10303-42:1992<br>
A B-spline curve is a piecewise parametric polynomial or rational curve described in terms of control points and basis functions. The B-spline curve has been selected as the most stable format to represent all types of polynomial or rational parametric curves. With appropriate attribute values it is capable of representing single span or spline curves of explicit polynomial, rational, Bezier or B-spline type.</p>
<p>Interpretation of the data is as follows: <ol style=" font-size:inherit;">
</ol></blockquote>
<li style=" font-size:inherit;">
<p style=" font-size:inherit;">All weights shall be positive and the curve is given by</p>
<img src="../../../figures/ifcbsplinecurve-math1.gif" alt="equation" width="183" height="115" border="0">
<table summary="illustration" style=" font-size:inherit;">
<tr style=" font-size:inherit;">
<td align="right" width="100" style=" font-size:inherit;"><i>k</i>+1</td>
<td style=" font-size:inherit;">= number of control points</td>
</tr>
<tr style=" font-size:inherit;">
<td align="right" width="100" style=" font-size:inherit;">P<sub><i>i</i></sub></td>
<td style=" font-size:inherit;">= control points</td>
</tr>
<tr style=" font-size:inherit;">
<td align="right" width="100" style=" font-size:inherit;"><i>w</i><sub><i>i</i></sub></td>
<td>= weights</td>
</tr>
<tr style=" font-size:inherit;">
<td align="right" width="100" style=" font-size:inherit;"><i>d</i></td>
<td>= degree</td>
</tr>
</table>
<p style=" font-size:inherit;">The knot array is an array of (<i>k</i>+<i>d</i>+2) real numbers
[<i>u</i><sub>-<i>d</i></sub> ... <i>u</i><sub><i>k</i>+1</sub>], such that for all indices j in
[-<i>d</i>,<i>k</i>], <i>u</i><sub>j</sub> &lt;= <i>u</i><sub>j+1</sub>. This array is obtained from the knot
data list by repeating each multiple knot according to the multiplicity. <i>N <sup>d</sup><sub>i</sub></i>, the
<i>i</i>th normalized B-spline basis function of degree <i>d</i>, is defined on the subset
[<i>u<sub>i-d</sub></i>, ... , <i>u<sub>i+1</sub></i>] of this array.</p>
</li>
<li style=" font-size:inherit;">
<p style=" font-size:inherit;">Let <i>L</i> denote the number of distinct values among the <i>d</i>+<i>k</i>+2
knots in the knot array; <i>L</i> will be referred to as the 'upper index on knots'. Let <i>m<sub>j</sub></i>
denote the multiplicity (number of repetitions) of the <i>j</i>th distinct knot. Then</p>
<img src="../../../figures/ifcbsplinecurve-math2.gif" alt="equation" width="149" height="59" border="0">
<p style=" font-size:inherit;">All knot multiplicities except the first and the last shall be in the range 1 ...
degree; the first and last may have a maximum value of degree + 1. In evaluating the basis functions, a knot <i>u</i>
of e.g. multiplicity 3 is interpreted as a string <i>u, u, u,</i> in the knot array. The B-spline curve has 3 special
subtypes (<i>Note: only 1, Bezier curve, included in this IFC release</i>) where the knots and knot multiplicities
are derived to provide simple default capabilities.</p>
</li>
<li style=" font-size:inherit;">Logical flag is provided to indicate whether the curve self intersects or not.</li>

<blockquote class="note">
<p>NOTE  Entity adapted from <strong>b_spline_curve</strong> defined in ISO10303-42.</p>
</blockquote>
<blockquote class="history">
<p>HISTORY  New entity in IFC2x2.</p>
</blockquote>
</details>
<details open="open"><summary>Attribute definitions</summary><table class="attributes">
<tr><th>#</th><th>Attribute</th><th>Type</th><th>Cardinality</th><th>Description</th>
<th>G</th></tr>
<tr><td>1</td><td>Degree</td><td><a href="../../ifcmeasureresource/lexical/ifcinteger.htm">IfcInteger</a></td><td></td><td>
The algebraic degree of the basis functions.
</td><td>X</td></tr>
<tr><td>2</td><td>ControlPointsList</td><td><a href="../../ifcgeometryresource/lexical/ifccartesianpoint.htm">IfcCartesianPoint</a></td><td>L[2:?]</td><td>
The list of control points for the curve.
</td><td>X</td></tr>
<tr><td>3</td><td>CurveForm</td><td><a href="../../ifcgeometryresource/lexical/ifcbsplinecurveform.htm">IfcBSplineCurveForm</a></td><td></td><td>
Used to identify particular types of curve; it is for information only.
</td><td>X</td></tr>
<tr><td>4</td><td>ClosedCurve</td><td><a href="../../ifcmeasureresource/lexical/ifclogical.htm">IfcLogical</a></td><td></td><td>
Indication of whether the curve is closed; it is for information only.
</td><td>X</td></tr>
<tr><td>5</td><td>SelfIntersect</td><td><a href="../../ifcmeasureresource/lexical/ifclogical.htm">IfcLogical</a></td><td></td><td>
Indication whether the curve self-intersects or not; it is for information only.
</td><td>X</td></tr>
<tr><td></td><td>UpperIndexOnControlPoints<br/>:=(SIZEOF(ControlPointsList) - 1)</td><td><a href="../../ifcmeasureresource/lexical/ifcinteger.htm">IfcInteger</a></td><td></td><td>The upper index on the array of control points; the lower index is 0.
This value is derived from the control points list.
</td>
<td>X</td></tr>
<tr><td></td><td>ControlPoints<br/>:=IfcListToArray(ControlPointsList,0,UpperIndexOnControlPoints)</td><td><a href="../../ifcgeometryresource/lexical/ifccartesianpoint.htm">IfcCartesianPoint</a></td><td>A[0:UpperIndexOnControlPoints]</td><td>The array of control points used to define the geometry of the curve. This is derived from the list of control points.
</td>
<td>X</td></tr>
</table>
</details>
<details open="open"><summary>Formal Propositions</summary><table class="propositions">
<tr><th>Rule</th><th>Description</th></tr>
<tr><td>SameDim</td><td>All control points shall have the same dimensionality.
</td></tr>
</table>

</details>
</section>
<section>
<h5 class="num">Inherited definitions from supertypes</h5>
<details open="open"><summary>Entity inheritance</summary><img src="../../../diagrams/ifcbsplinecurve.png" usemap="#f"/>
<map name="f">
<area shape="rect" coords="66,126,254,138" href="../../../schema/ifcgeometryresource/lexical/ifcbsplinecurvewithknots.htm" alt="IfcBSplineCurveWithKnots" />
<area shape="rect" coords="42,78,278,90" href="../../../schema/ifcgeometryresource/lexical/ifcboundedcurve.htm" alt="IfcBoundedCurve" />
<area shape="rect" coords="30,54,290,66" href="../../../schema/ifcgeometryresource/lexical/ifccurve.htm" alt="IfcCurve" />
<area shape="rect" coords="18,30,302,42" href="../../../schema/ifcgeometryresource/lexical/ifcgeometricrepresentationitem.htm" alt="IfcGeometricRepresentationItem" />
<area shape="rect" coords="6,6,314,18" href="../../../schema/ifcgeometryresource/lexical/ifcrepresentationitem.htm" alt="IfcRepresentationItem" />
</map>
</details>
<details><summary>Attribute inheritance</summary><table class="attributes">
<tr><th>#</th><th>Attribute</th><th>Type</th><th>Cardinality</th><th>Description</th><th>G</th></tr>
<tr><td colspan="6"><i><a href="../../ifcgeometryresource/lexical/ifcrepresentationitem.htm">IfcRepresentationItem</a></i></td></tr>
<tr><td></td><td><i>LayerAssignment</i></td><td><a href="../../ifcpresentationorganizationresource/lexical/ifcpresentationlayerassignment.htm">IfcPresentationLayerAssignment</a><br/>@AssignedItems</td><td>S[0:1]</td><td>Assignment of the representation item to a single or multiple layer(s). The <i>LayerAssignments</i> can override a <i>LayerAssignments</i> of the <a href="../../ifcrepresentationresource/lexical/ifcrepresentation.htm">IfcRepresentation</a> it is used  within the list of <i>Items</i>.

<blockquote>
IFC2x3 CHANGE  The inverse attribute <i>LayerAssignments</i> has been added.
</blockquote>
<blockquote class="change-ifc2x4">
IFC4 CHANGE  The inverse attribute <i>LayerAssignment</i> has been restricted to max 1. Upward compatibility for file based exchange is guaranteed.
</blockquote>
</td><td>X</td></tr>
<tr><td></td><td><i>StyledByItem</i></td><td><a href="../../ifcpresentationappearanceresource/lexical/ifcstyleditem.htm">IfcStyledItem</a><br/>@Item</td><td>S[0:1]</td><td>Reference to the <a href="../../ifcpresentationappearanceresource/lexical/ifcstyleditem.htm">IfcStyledItem</a> that provides presentation information to the representation, e.g. a curve style, including colour and thickness to a geometric curve.
<blockquote class="change-ifc2x3">
IFC2x3 CHANGE  The inverse attribute <i>StyledByItem</i> has been added.
</blockquote>
</td><td>X</td></tr>
<tr><td colspan="6"><i><a href="../../ifcgeometryresource/lexical/ifcgeometricrepresentationitem.htm">IfcGeometricRepresentationItem</a></i></td></tr>
<tr><td colspan="6"><i><a href="../../ifcgeometryresource/lexical/ifccurve.htm">IfcCurve</a></i></td></tr>
<tr><td></td><td>Dim<br/>:=IfcCurveDim(SELF)</td><td><a href="../../ifcgeometryresource/lexical/ifcdimensioncount.htm">IfcDimensionCount</a></td><td></td><td>The space dimensionality of this abstract class, defined differently for all subtypes, i.e. for IfcLine, IfcConic and IfcBoundedCurve.
</td>
<td>X</td></tr>
<tr><td colspan="6"><i><a href="../../ifcgeometryresource/lexical/ifcboundedcurve.htm">IfcBoundedCurve</a></i></td></tr>
<tr><td colspan="6"><i><a href="../../ifcgeometryresource/lexical/ifcbsplinecurve.htm">IfcBSplineCurve</a></i></td></tr>
<tr><td>1</td><td>Degree</td><td><a href="../../ifcmeasureresource/lexical/ifcinteger.htm">IfcInteger</a></td><td></td><td>
The algebraic degree of the basis functions.
</td><td>X</td></tr>
<tr><td>2</td><td>ControlPointsList</td><td><a href="../../ifcgeometryresource/lexical/ifccartesianpoint.htm">IfcCartesianPoint</a></td><td>L[2:?]</td><td>
The list of control points for the curve.
</td><td>X</td></tr>
<tr><td>3</td><td>CurveForm</td><td><a href="../../ifcgeometryresource/lexical/ifcbsplinecurveform.htm">IfcBSplineCurveForm</a></td><td></td><td>
Used to identify particular types of curve; it is for information only.
</td><td>X</td></tr>
<tr><td>4</td><td>ClosedCurve</td><td><a href="../../ifcmeasureresource/lexical/ifclogical.htm">IfcLogical</a></td><td></td><td>
Indication of whether the curve is closed; it is for information only.
</td><td>X</td></tr>
<tr><td>5</td><td>SelfIntersect</td><td><a href="../../ifcmeasureresource/lexical/ifclogical.htm">IfcLogical</a></td><td></td><td>
Indication whether the curve self-intersects or not; it is for information only.
</td><td>X</td></tr>
<tr><td></td><td>UpperIndexOnControlPoints<br/>:=(SIZEOF(ControlPointsList) - 1)</td><td><a href="../../ifcmeasureresource/lexical/ifcinteger.htm">IfcInteger</a></td><td></td><td>The upper index on the array of control points; the lower index is 0.
This value is derived from the control points list.
</td>
<td>X</td></tr>
<tr><td></td><td>ControlPoints<br/>:=IfcListToArray(ControlPointsList,0,UpperIndexOnControlPoints)</td><td><a href="../../ifcgeometryresource/lexical/ifccartesianpoint.htm">IfcCartesianPoint</a></td><td>A[0:UpperIndexOnControlPoints]</td><td>The array of control points used to define the geometry of the curve. This is derived from the list of control points.
</td>
<td>X</td></tr>
</table>
</details>
</section>
</section>
<section>
<h5 class="num">Formal representations</h5>
<details><summary>XML Specification</summary><div class="xsd"><code class="xsd">&nbsp;&lt;xs:element name=&quot;<a href="../../ifcgeometryresource/lexical/ifcbsplinecurve.htm">IfcBSplineCurve</a>&quot; type=&quot;ifc:<a href="../../ifcgeometryresource/lexical/ifcbsplinecurve.htm">IfcBSplineCurve</a>&quot; abstract=&quot;true&quot; substitutionGroup=&quot;ifc:<a href="../../ifcgeometryresource/lexical/ifcboundedcurve.htm">IfcBoundedCurve</a>&quot; nillable=&quot;true&quot;/&gt;<br/>
&nbsp;&lt;xs:complexType name=&quot;<a href="../../ifcgeometryresource/lexical/ifcbsplinecurve.htm">IfcBSplineCurve</a>&quot; abstract=&quot;true&quot;&gt;<br/>
&nbsp;&nbsp;&lt;xs:complexContent&gt;<br/>
&nbsp;&nbsp;&nbsp;&lt;xs:extension base=&quot;ifc:<a href="../../ifcgeometryresource/lexical/ifcboundedcurve.htm">IfcBoundedCurve</a>&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element name=&quot;ControlPointsList&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element ref=&quot;ifc:<a href="../../ifcgeometryresource/lexical/ifccartesianpoint.htm">IfcCartesianPoint</a>&quot; minOccurs=&quot;2&quot; maxOccurs=&quot;unbounded&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:itemType&quot; fixed=&quot;ifc:<a href="../../ifcgeometryresource/lexical/ifccartesianpoint.htm">IfcCartesianPoint</a>&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:cType&quot; fixed=&quot;list&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:arraySize&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute name=&quot;Degree&quot; type=&quot;ifc:<a href="../../ifcmeasureresource/lexical/ifcinteger.htm">IfcInteger</a>&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute name=&quot;CurveForm&quot; type=&quot;ifc:<a href="../../ifcgeometryresource/lexical/ifcbsplinecurveform.htm">IfcBSplineCurveForm</a>&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute name=&quot;ClosedCurve&quot; type=&quot;ifc:<a href="../../ifcmeasureresource/lexical/ifclogical.htm">IfcLogical</a>&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute name=&quot;SelfIntersect&quot; type=&quot;ifc:<a href="../../ifcmeasureresource/lexical/ifclogical.htm">IfcLogical</a>&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&lt;/xs:extension&gt;<br/>
&nbsp;&nbsp;&lt;/xs:complexContent&gt;<br/>
&nbsp;&lt;/xs:complexType&gt;<br/>
</code></div></details>
<details><summary>EXPRESS Specification</summary><div class="express"><code class="express">
<span class="keyword">ENTITY</span> IfcBSplineCurve<br/>
&nbsp;<span class="keyword">ABSTRACT</span> <span class="keyword">SUPERTYPE OF</span>(<a href="../../ifcgeometryresource/lexical/ifcbsplinecurvewithknots.htm">IfcBSplineCurveWithKnots</a>)<br/>
&nbsp;<span class="keyword">SUBTYPE OF</span> (<a href="../../ifcgeometryresource/lexical/ifcboundedcurve.htm">IfcBoundedCurve</a>)<b>;</b><br/>
&nbsp;&nbsp;Degree : <a href="../../ifcmeasureresource/lexical/ifcinteger.htm">IfcInteger</a>;<br/>
&nbsp;&nbsp;ControlPointsList : <span class="keyword">LIST</span> [2:?] <span class="keyword">OF</span> <a href="../../ifcgeometryresource/lexical/ifccartesianpoint.htm">IfcCartesianPoint</a>;<br/>
&nbsp;&nbsp;CurveForm : <a href="../../ifcgeometryresource/lexical/ifcbsplinecurveform.htm">IfcBSplineCurveForm</a>;<br/>
&nbsp;&nbsp;ClosedCurve : <a href="../../ifcmeasureresource/lexical/ifclogical.htm">IfcLogical</a>;<br/>
&nbsp;&nbsp;SelfIntersect : <a href="../../ifcmeasureresource/lexical/ifclogical.htm">IfcLogical</a>;<br/>
&nbsp;<span class="keyword">DERIVE</span><br/>
&nbsp;&nbsp;UpperIndexOnControlPoints : <a href="../../ifcmeasureresource/lexical/ifcinteger.htm">IfcInteger</a> := (SIZEOF(ControlPointsList) - 1);<br/>
&nbsp;&nbsp;ControlPoints : <span class="keyword">ARRAY</span> [0:UpperIndexOnControlPoints] OF <a href="../../ifcgeometryresource/lexical/ifccartesianpoint.htm">IfcCartesianPoint</a> := IfcListToArray(ControlPointsList,0,UpperIndexOnControlPoints);<br/>
&nbsp;<span class="keyword">WHERE</span><br/>
&nbsp;&nbsp;SameDim : SIZEOF(QUERY(Temp &lt;* ControlPointsList |<br/>
  Temp.Dim &lt;&gt; ControlPointsList[1].Dim))<br/>
= 0;<br/><span class="keyword">END_ENTITY;</span><br/>
<p class="std"><a href="../../../annex/annex-d/ifcgeometryresource/diagram_0000.htm" ><img src="../../../img/diagram.png" style="border: 0px" title="Link to EXPRESS-G diagram" alt="Link to EXPRESS-G diagram">&nbsp;EXPRESS-G diagram</a></p>
</code></div>
</details>
</section>
</p>
<p><a href="../../../link/ifcbsplinecurve.htm" target="_top" ><img src="../../../img/permlink.png" style="border: 0px" title="Link to this page" alt="Link to this page"/>&nbsp; Link to this page</a></p>
  </body>
</html>
